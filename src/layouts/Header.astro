---
import { twJoin } from 'tailwind-merge';
import type { HTMLAttributes } from 'astro/types';
interface Props extends HTMLAttributes<'a'> {
  img?: string;
  isEN?: boolean;
}

const { img, isEN } = Astro.props;

const currentSlug = Astro.url.pathname;
---

<>
  <header
    class="flex h-[3.6875rem] items-center px-4 pb-1.5 md:mx-auto md:mt-[2.125rem] md:h-11 md:max-w-[72.5rem] md:px-10 md:pb-0"
  >
    {
      img !== 'none' && (
        <a href={'/' + (isEN ? 'en/' : '')} class="relative z-30 inline-block w-[13.625rem] font-bold md:w-[21.25rem]">
          <img
            src={'/assets/images/logo' + (isEN ? '_en' : '') + '.svg'}
            alt={
              isEN
                ? 'A must-read for teachers Understanding Copyright in Classes'
                : '「先生にぜひ読んでほしい」すごくわかる著作権と授業'
            }
            decoding="async"
            width="340"
            height="44"
          />
        </a>
      )
    }
    <div
      class={twJoin(
        'fixed inset-x-0 top-[1.03125rem] z-20 flex items-center justify-end gap-4 px-4',
        'md:top-[2.9375rem] md:mx-auto md:max-w-[72.5rem] md:px-10'
      )}
    >
      <div class="flex items-center rounded-2xl bg-white p-1 text-[0.6875rem]/normal font-bold md:text-xs/normal">
        <a
          href={isEN ? '' : '/en' + currentSlug}
          class={twJoin(
            'block rounded-2xl px-2 uppercase md:py-0.5',
            isEN ? 'bg-orange-600 text-white' : 'text-gray-600'
          )}
        >
          En<span class="hidden md:inline">glish</span>
        </a>
        <a
          href={isEN ? currentSlug.replace('/en', '') : ''}
          class={twJoin(
            'block rounded-2xl px-2 uppercase md:py-0.5',
            isEN ? 'text-gray-600' : 'bg-orange-600 text-white'
          )}
        >
          Ja<span class="hidden md:inline">panese</span>
        </a>
      </div><button id="js-hamburger" class="flex flex-col gap-1.5 transition-colors duration-200 md:hidden">
        <span class="hamburger flex w-6 flex-col gap-1">
          <span class="h-px w-full bg-black transition-transform duration-300"></span>
          <span class="h-px w-full bg-black transition-transform duration-300"></span>
          <span class="h-px w-full bg-black transition-transform duration-300"></span>
        </span>
        <span class={twJoin('lowercase', isEN ? '-ml-px scale-90 text-[0.5625rem]/none' : 'text-[0.625rem]/none')}
          >{isEN ? 'Menu' : '目次'}</span
        >
      </button>
    </div>
  </header>
</>
